{"version":3,"sources":["../node_modules/tonva/dist/entry/tools.js","../node_modules/tonva/dist/img/logo.svg","../node_modules/tonva/dist/entry/register.js"],"names":["logo","tonvaTop","loginTop","className","src","alt","senders","type","caption","regex","getSender","un","find","v","test","module","exports","__extends","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","op","TypeError","call","pop","length","push","RegisterController","_super","_this","arguments","accountPageCaption","accountLabel","accountSubmitCaption","passwordPageCaption","passwordSubmitCaption","successText","login","account","retUser","_a","user","pwd","password","guest","undefined","alert","userLogined","internalStart","openVPage","AccountPage","toVerify","VerifyPage","toPassword","PasswordPage","toSuccess","accounts","RegSuccess","regReturn","registerReturn","msg","checkAccount","ret","error","isExists","accountError","sendVerify","oem","execute","params","nick","country","mobile","mobileCountry","email","verify","Number","register","clear","ForgetController","resetPassword","schema","name","required","maxLength","res","page","header","controller","style","marginLeft","marginRight","uiSchema","onButtonClick","onSubmit","onEnter","requiredFlag","privacyEntry","context","sender","clearContextErrors","getValue","setError","open","items","widget","placeholder","openPage","onVerifyChanged","prev","setDisabled","onChanged","submit","disabled","checkVerify","typeText","extra","values","rePwd","form","data","setValue","users","_b","onClick","map"],"mappings":"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","file":"static/js/0.894852c7.chunk.js","sourcesContent":["import * as React from 'react';\nimport { nav, mobileRegex, emailRegex } from '../components';\n\nvar logo = require('../img/logo.svg');\n\nexport function tonvaTop() {\n  return nav.loginTop(React.createElement(\"div\", {\n    className: \"d-flex align-items-center position-relative\"\n  }, React.createElement(\"img\", {\n    className: \"App-logo h-3c position-absolute\",\n    src: logo,\n    alt: \"img\"\n  }), React.createElement(\"div\", {\n    className: \"h3 flex-fill text-center\"\n  }, React.createElement(\"span\", {\n    className: \"text-primary mr-3\"\n  }, \"\\u540C\"), React.createElement(\"span\", {\n    className: \"text-danger\"\n  }, \"\\u82B1\"))));\n}\nvar senders = [{\n  type: 'mobile',\n  caption: '手机号',\n  regex: mobileRegex\n}, {\n  type: 'email',\n  caption: '邮箱',\n  regex: emailRegex\n}];\nexport function getSender(un) {\n  var sender = senders.find(function (v) {\n    return v.regex.test(un) === true;\n  });\n  return sender;\n}","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";","var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport * as React from 'react';\nimport { nav, Page, Form, resLang } from '../components';\nimport { Controller, VPage } from '../vm';\nimport { userApi } from '../net';\nimport '../css/va-form.css';\nimport { registerRes } from '../res';\nimport { tonvaTop, getSender } from './tools';\n/*\r\nclass AccountInput extends TextWidget {\r\n    @observable private buttonDisabled: boolean = true;\r\n    private onClick = () => {\r\n        let {onButtonClick} = this.context.form.props;\r\n        if (onButtonClick === undefined) return;\r\n        onButtonClick(this.name, this.context);\r\n    }\r\n    protected onChange(evt: React.ChangeEvent<any>) {\r\n        this.buttonDisabled = (evt.target.value.trim().length === 0);\r\n    }\r\n    render() {\r\n        return <>\r\n            <div className=\"input-group\">\r\n                <input ref={input=>this.input = input}\r\n                            className=\"form-control\"\r\n                            type={this.inputType}\r\n                            defaultValue={this.value}\r\n                            onChange={(evt: React.ChangeEvent<any>) => this.onChange(evt)}\r\n                            placeholder='手机号/邮箱'\r\n                            readOnly={this.readOnly}\r\n                            disabled={this.disabled}\r\n                            onKeyDown = {this.onKeyDown}\r\n                            onFocus = {(evt: React.FocusEvent<any>) => this.onFocus(evt)}\r\n                            onBlur={(evt: React.FocusEvent<any>) => this.onBlur(evt)}\r\n                            maxLength={(this.itemSchema as StringSchema).maxLength} />\r\n                <div className=\"input-group-append\">\r\n                    <button className=\"btn btn-sm btn-outline-primary\"\r\n                        type=\"button\" disabled={this.buttonDisabled}\r\n                        onClick={this.onClick}>\r\n                        <small>发送验证码</small>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {this.renderErrors()}\r\n        </>;\r\n    }\r\n}\r\n*/\n\nvar RegisterController =\n/** @class */\nfunction (_super) {\n  __extends(RegisterController, _super);\n\n  function RegisterController() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.accountPageCaption = '注册账号';\n    _this.accountLabel = '注册账号';\n    _this.accountSubmitCaption = '注册新账号';\n    _this.passwordPageCaption = '账号密码';\n    _this.passwordSubmitCaption = '注册新账号';\n    _this.successText = '注册成功';\n\n    _this.login = function (account) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var retUser;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              return [4\n              /*yield*/\n              , userApi.login({\n                user: account || this.account,\n                pwd: this.password,\n                guest: nav.guest\n              })];\n\n            case 1:\n              retUser = _a.sent();\n\n              if (retUser === undefined) {\n                alert('something wrong!');\n                return [2\n                /*return*/\n                ];\n              }\n\n              return [4\n              /*yield*/\n              , nav.userLogined(retUser)];\n\n            case 2:\n              _a.sent();\n\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  RegisterController.prototype.internalStart = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.openVPage(AccountPage);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  RegisterController.prototype.toVerify = function (account) {\n    this.account = account;\n    this.openVPage(VerifyPage);\n  };\n\n  RegisterController.prototype.toPassword = function () {\n    this.openVPage(PasswordPage);\n  };\n\n  RegisterController.prototype.toSuccess = function (accounts) {\n    this.openVPage(RegSuccess, accounts);\n  };\n\n  RegisterController.prototype.regReturn = function (registerReturn) {\n    var msg;\n\n    switch (registerReturn) {\n      default:\n        return '服务器发生错误';\n\n      case 4:\n        return '验证码错误';\n\n      case 0:\n        return;\n\n      case 1:\n        msg = '用户名 ' + this.account;\n        break;\n\n      case 2:\n        msg = '手机号 +' + this.account;\n        break;\n\n      case 3:\n        msg = '邮箱 ' + this.account;\n        break;\n    }\n\n    return msg + ' 已经被注册过了';\n  };\n\n  RegisterController.prototype.checkAccount = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var ret, error;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , userApi.isExists(this.account)];\n\n          case 1:\n            ret = _a.sent();\n            error = this.accountError(ret);\n            if (error !== undefined) return [2\n            /*return*/\n            , error];\n            return [4\n            /*yield*/\n            , userApi.sendVerify(this.account, this.type, nav.oem)];\n\n          case 2:\n            ret = _a.sent();\n            this.toVerify(this.account);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  };\n\n  RegisterController.prototype.accountError = function (isExists) {\n    if (isExists > 0) return '已经被注册使用了';\n  };\n\n  RegisterController.prototype.execute = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var params, ret, error;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            params = {\n              nick: undefined,\n              user: this.account,\n              pwd: this.password,\n              country: undefined,\n              mobile: undefined,\n              mobileCountry: undefined,\n              email: undefined,\n              verify: this.verify\n            };\n\n            switch (this.type) {\n              case 'mobile':\n                params.mobile = Number(this.account);\n                params.mobileCountry = 86;\n                break;\n\n              case 'email':\n                params.email = this.account;\n                break;\n            }\n\n            return [4\n            /*yield*/\n            , userApi.register(params)];\n\n          case 1:\n            ret = _a.sent();\n\n            if (ret === 0) {\n              nav.clear();\n              this.toSuccess();\n              return [2\n              /*return*/\n              ];\n            }\n\n            error = this.regReturn(ret);\n            return [2\n            /*return*/\n            , error];\n        }\n      });\n    });\n  };\n\n  return RegisterController;\n}(Controller);\n\nexport { RegisterController };\n\nvar ForgetController =\n/** @class */\nfunction (_super) {\n  __extends(ForgetController, _super);\n\n  function ForgetController() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.accountPageCaption = '密码找回';\n    _this.accountLabel = '账号';\n    _this.accountSubmitCaption = '注册新账号';\n    _this.passwordPageCaption = '重置密码';\n    _this.passwordSubmitCaption = '提交';\n    _this.successText = '成功修改密码';\n    return _this;\n  }\n\n  ForgetController.prototype.execute = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var ret;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            return [4\n            /*yield*/\n            , userApi.resetPassword(this.account, this.password, this.verify, this.type)];\n\n          case 1:\n            ret = _a.sent();\n            nav.clear();\n            this.toSuccess(ret);\n            return [2\n            /*return*/\n            , undefined];\n        }\n      });\n    });\n  };\n\n  ForgetController.prototype.accountError = function (isExists) {\n    if (isExists === 0) return '请输入正确的账号';\n  };\n\n  return ForgetController;\n}(RegisterController);\n\nexport { ForgetController };\n\nvar AccountPage =\n/** @class */\nfunction (_super) {\n  __extends(AccountPage, _super);\n\n  function AccountPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'user',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'verify',\n      type: 'submit'\n    }];\n    _this.res = resLang(registerRes);\n\n    _this.page = function () {\n      return React.createElement(Page, {\n        header: _this.controller.accountPageCaption\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, tonvaTop(), React.createElement(\"div\", {\n        className: \"h-3c\"\n      }), React.createElement(Form, {\n        schema: _this.schema,\n        uiSchema: _this.uiSchema,\n        onButtonClick: _this.onSubmit,\n        onEnter: _this.onEnter,\n        requiredFlag: false\n      }), nav.privacyEntry()));\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var user, value, sender, type, ret;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              context.clearContextErrors();\n              user = 'user';\n              value = context.getValue(user);\n              sender = getSender(value);\n\n              if (sender === undefined) {\n                context.setError(user, '必须是手机号或邮箱');\n                return [2\n                /*return*/\n                ];\n              }\n\n              type = sender.type;\n\n              if (type === 'mobile') {\n                if (value.length !== 11 || value[0] !== '1') {\n                  context.setError(user, '请输入正确的手机号');\n                  return [2\n                  /*return*/\n                  ];\n                }\n              }\n\n              this.controller.account = value;\n              this.controller.type = type;\n              return [4\n              /*yield*/\n              , this.controller.checkAccount()];\n\n            case 1:\n              ret = _a.sent();\n              if (ret !== undefined) context.setError(user, ret);\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'user')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('verify', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  AccountPage.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.uiSchema = {\n          items: {\n            user: {\n              widget: 'text',\n              label: this.controller.accountLabel,\n              placeholder: '手机号或邮箱'\n            },\n            verify: {\n              widget: 'button',\n              className: 'btn btn-primary btn-block mt-3',\n              label: '发送验证码'\n            }\n          }\n        };\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return AccountPage;\n}(VPage);\n\nvar VerifyPage =\n/** @class */\nfunction (_super) {\n  __extends(VerifyPage, _super);\n\n  function VerifyPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'verify',\n      type: 'number',\n      required: true,\n      maxLength: 6\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n\n    _this.onVerifyChanged = function (context, value, prev) {\n      context.setDisabled('submit', !value || value.length !== 6);\n    };\n\n    _this.uiSchema = {\n      items: {\n        verify: {\n          widget: 'text',\n          label: '验证码',\n          placeholder: '请输入验证码',\n          onChanged: _this.onVerifyChanged\n        },\n        submit: {\n          widget: 'button',\n          className: 'btn btn-primary btn-block mt-3',\n          label: '下一步 >',\n          disabled: true\n        }\n      }\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var verify, ret;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              verify = this.controller.verify = context.getValue('verify');\n              return [4\n              /*yield*/\n              , userApi.checkVerify(this.controller.account, verify)];\n\n            case 1:\n              ret = _a.sent();\n\n              if (ret === 0) {\n                context.setError('verify', '验证码错误');\n                return [2\n                /*return*/\n                ];\n              }\n\n              this.controller.toPassword();\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'verify')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('submit', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.page = function () {\n      var typeText, extra;\n\n      switch (_this.controller.type) {\n        case 'mobile':\n          typeText = '手机号';\n          break;\n\n        case 'email':\n          typeText = '邮箱';\n          extra = React.createElement(React.Fragment, null, React.createElement(\"span\", {\n            className: \"text-danger\"\n          }, \"\\u6CE8\\u610F\"), \": \\u6709\\u53EF\\u80FD\\u8BEF\\u4E3A\\u5783\\u573E\\u90AE\\u4EF6\\uFF0C\\u8BF7\\u68C0\\u67E5\", React.createElement(\"br\", null));\n          break;\n      }\n\n      return React.createElement(Page, {\n        header: \"\\u9A8C\\u8BC1\\u7801\"\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, \"\\u9A8C\\u8BC1\\u7801\\u5DF2\\u7ECF\\u53D1\\u9001\\u5230\", typeText, React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"py-2 px-3 my-2 text-primary bg-light\"\n      }, React.createElement(\"b\", null, _this.controller.account)), extra, React.createElement(\"div\", {\n        className: \"h-1c\"\n      }), React.createElement(Form, {\n        schema: _this.schema,\n        uiSchema: _this.uiSchema,\n        onButtonClick: _this.onSubmit,\n        onEnter: _this.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    return _this;\n  }\n\n  VerifyPage.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return VerifyPage;\n}(VPage);\n\nvar PasswordPage =\n/** @class */\nfunction (_super) {\n  __extends(PasswordPage, _super);\n\n  function PasswordPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'pwd',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'rePwd',\n      type: 'string',\n      required: true,\n      maxLength: 100\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var values, pwd, rePwd, error;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              values = context.form.data;\n              pwd = values.pwd, rePwd = values.rePwd;\n              if (!(!pwd || pwd !== rePwd)) return [3\n              /*break*/\n              , 1];\n              context.setValue('pwd', '');\n              context.setValue('rePwd', '');\n              error = '密码错误，请重新输入密码！';\n              context.setError('pwd', error);\n              return [3\n              /*break*/\n              , 3];\n\n            case 1:\n              this.controller.password = pwd;\n              return [4\n              /*yield*/\n              , this.controller.execute()];\n\n            case 2:\n              error = _a.sent();\n\n              if (error !== undefined) {\n                nav.push(React.createElement(Page, {\n                  header: \"\\u6CE8\\u518C\\u4E0D\\u6210\\u529F\"\n                }, React.createElement(\"div\", {\n                  className: \"p-5 text-danger\"\n                }, error)));\n              }\n\n              _a.label = 3;\n\n            case 3:\n              return [2\n              /*return*/\n              , error];\n          }\n        });\n      });\n    };\n\n    _this.onEnter = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(name === 'rePwd')) return [3\n              /*break*/\n              , 2];\n              return [4\n              /*yield*/\n              , this.onSubmit('submit', context)];\n\n            case 1:\n              return [2\n              /*return*/\n              , _a.sent()];\n\n            case 2:\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    _this.page = function () {\n      return React.createElement(Page, {\n        header: _this.controller.passwordPageCaption\n      }, React.createElement(\"div\", {\n        className: \"w-max-20c my-5 py-5\",\n        style: {\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, \"\\u6CE8\\u518C\\u8D26\\u53F7\", React.createElement(\"br\", null), React.createElement(\"div\", {\n        className: \"py-2 px-3 my-2 text-primary bg-light\"\n      }, React.createElement(\"b\", null, _this.controller.account)), React.createElement(\"div\", {\n        className: \"h-1c\"\n      }), React.createElement(Form, {\n        schema: _this.schema,\n        uiSchema: _this.uiSchema,\n        onButtonClick: _this.onSubmit,\n        onEnter: _this.onEnter,\n        requiredFlag: false\n      })));\n    };\n\n    return _this;\n  }\n\n  PasswordPage.prototype.open = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.uiSchema = {\n          items: {\n            pwd: {\n              widget: 'password',\n              placeholder: '密码',\n              label: '密码'\n            },\n            rePwd: {\n              widget: 'password',\n              placeholder: '重复密码',\n              label: '重复密码'\n            },\n            submit: {\n              widget: 'button',\n              className: 'btn btn-primary btn-block mt-3',\n              label: this.controller.passwordSubmitCaption\n            }\n          }\n        };\n        this.openPage(this.page);\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return PasswordPage;\n}(VPage);\n\nvar RegSuccess =\n/** @class */\nfunction (_super) {\n  __extends(RegSuccess, _super);\n\n  function RegSuccess() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.page = function (_a) {\n      var users = _a.users;\n      var _b = _this.controller,\n          account = _b.account,\n          successText = _b.successText,\n          login = _b.login;\n\n      if (users === undefined) {\n        return React.createElement(Page, {\n          header: false\n        }, React.createElement(\"div\", {\n          className: \"container w-max-30c\"\n        }, React.createElement(\"div\", {\n          className: \"my-5\"\n        }, React.createElement(\"div\", {\n          className: \"py-5\"\n        }, \"\\u8D26\\u53F7 \", React.createElement(\"strong\", {\n          className: \"text-primary\"\n        }, account, \" \"), \" \", successText, \"\\uFF01\"), React.createElement(\"button\", {\n          className: \"btn btn-success btn-block\",\n          type: \"button\",\n          onClick: function onClick() {\n            return login(undefined);\n          }\n        }, \"\\u76F4\\u63A5\\u767B\\u5F55\"))));\n      } else {\n        return React.createElement(Page, {\n          header: false\n        }, React.createElement(\"div\", {\n          className: \"container w-max-30c\"\n        }, React.createElement(\"div\", {\n          className: \"my-5\"\n        }, React.createElement(\"div\", {\n          className: \"py-5 text-success\"\n        }, successText), users.map(function (v) {\n          var name = v.name;\n          return React.createElement(\"div\", {\n            className: \"py-2 cursor-pointer\",\n            onClick: function onClick() {\n              return login(name);\n            }\n          }, \"\\u767B\\u5F55\\u8D26\\u53F7 \", React.createElement(\"strong\", {\n            className: \"text-primary\"\n          }, name, \" \"));\n        }))));\n      }\n    };\n\n    return _this;\n  }\n\n  RegSuccess.prototype.open = function (users) {\n    return __awaiter(this, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        this.openPage(this.page, {\n          users: users\n        });\n        return [2\n        /*return*/\n        ];\n      });\n    });\n  };\n\n  return RegSuccess;\n}(VPage);"],"sourceRoot":""}