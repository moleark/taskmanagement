{"version":3,"sources":["../node_modules/tonva/dist/entry/changePassword.js"],"names":["__extends","_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","this","constructor","prototype","create","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","ChangePasswordPage","_super","_this","arguments","schema","name","type","maxLength","required","uiSchema","items","orgPassword","widget","placeholder","newPassword","newPassword1","submit","className","onSubmit","context","_a","_b","data","setError","undefined","changePassword","replace","header","back","render","onButtonClick","fieldLabelSize"],"mappings":"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","file":"static/js/4.66922ea6.chunk.js","sourcesContent":["var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function sent() {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) {\n      try {\n        if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n        if (y = 0, t) op = [op[0] & 2, t.value];\n\n        switch (op[0]) {\n          case 0:\n          case 1:\n            t = op;\n            break;\n\n          case 4:\n            _.label++;\n            return {\n              value: op[1],\n              done: false\n            };\n\n          case 5:\n            _.label++;\n            y = op[1];\n            op = [0];\n            continue;\n\n          case 7:\n            op = _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n\n          default:\n            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n              _ = 0;\n              continue;\n            }\n\n            if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n              _.label = op[1];\n              break;\n            }\n\n            if (op[0] === 6 && _.label < t[1]) {\n              _.label = t[1];\n              t = op;\n              break;\n            }\n\n            if (t && _.label < t[2]) {\n              _.label = t[2];\n\n              _.ops.push(op);\n\n              break;\n            }\n\n            if (t[2]) _.ops.pop();\n\n            _.trys.pop();\n\n            continue;\n        }\n\n        op = body.call(thisArg, _);\n      } catch (e) {\n        op = [6, e];\n        y = 0;\n      } finally {\n        f = t = 0;\n      }\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nimport * as React from 'react';\nimport { Page, Form, nav } from '../components';\nimport { CenterAppApi } from '../net';\n\nvar ChangePasswordPage =\n/** @class */\nfunction (_super) {\n  __extends(ChangePasswordPage, _super);\n\n  function ChangePasswordPage() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.schema = [{\n      name: 'orgPassword',\n      type: 'string',\n      maxLength: 60,\n      required: true\n    }, {\n      name: 'newPassword',\n      type: 'string',\n      maxLength: 60,\n      required: true\n    }, {\n      name: 'newPassword1',\n      type: 'string',\n      maxLength: 60,\n      required: true\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n    _this.uiSchema = {\n      items: {\n        orgPassword: {\n          widget: 'password',\n          label: '原密码',\n          placeholder: '输入原来的密码'\n        },\n        newPassword: {\n          widget: 'password',\n          label: '新密码',\n          placeholder: '输入新设的密码'\n        },\n        newPassword1: {\n          widget: 'password',\n          label: '确认密码',\n          placeholder: '再次输入新设密码'\n        },\n        submit: {\n          widget: 'button',\n          label: '提交',\n          className: 'btn btn-primary'\n        }\n      }\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_this, void 0, void 0, function () {\n        var _a, orgPassword, newPassword, newPassword1, centerAppApi, ret;\n\n        return __generator(this, function (_b) {\n          switch (_b.label) {\n            case 0:\n              _a = context.data, orgPassword = _a.orgPassword, newPassword = _a.newPassword, newPassword1 = _a.newPassword1;\n\n              if (newPassword !== newPassword1) {\n                context.setError('newPassword1', '新密码错误，请重新输入');\n                return [2\n                /*return*/\n                ];\n              }\n\n              centerAppApi = new CenterAppApi('tv/', undefined);\n              return [4\n              /*yield*/\n              , centerAppApi.changePassword({\n                orgPassword: orgPassword,\n                newPassword: newPassword\n              })];\n\n            case 1:\n              ret = _b.sent();\n\n              if (ret === false) {\n                context.setError('orgPassword', '原密码错误');\n                return [2\n                /*return*/\n                ];\n              }\n\n              nav.replace(React.createElement(Page, {\n                header: \"\\u4FEE\\u6539\\u5BC6\\u7801\",\n                back: \"close\"\n              }, React.createElement(\"div\", {\n                className: \"m-3  text-success\"\n              }, \"\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\\uFF01\")));\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  ChangePasswordPage.prototype.render = function () {\n    return React.createElement(Page, {\n      header: \"\\u4FEE\\u6539\\u5BC6\\u7801\"\n    }, React.createElement(Form, {\n      className: \"m-3\",\n      schema: this.schema,\n      uiSchema: this.uiSchema,\n      onButtonClick: this.onSubmit,\n      fieldLabelSize: 2\n    }));\n  };\n\n  return ChangePasswordPage;\n}(React.Component);\n\nexport { ChangePasswordPage };"],"sourceRoot":""}