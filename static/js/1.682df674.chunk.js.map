{"version":3,"sources":["../node_modules/tonva/dist/entry/changePassword.js"],"names":["__webpack_require__","r","__webpack_exports__","d","ChangePasswordPage","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__","E_wangyancai_work_react_taskmanagement_node_modules_react_scripts_ts_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","react__WEBPACK_IMPORTED_MODULE_7__","_components__WEBPACK_IMPORTED_MODULE_8__","_net__WEBPACK_IMPORTED_MODULE_9__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","_React$Component","_this","Object","this","arguments","schema","name","type","maxLength","required","uiSchema","items","orgPassword","widget","label","placeholder","newPassword","newPassword1","submit","className","onSubmit","context","a","mark","_callee","_context$data","centerAppApi","wrap","_context","prev","data","setError","abrupt","undefined","changePassword","sent","replace","header","back","stop","key","onButtonClick","fieldLabelSize"],"mappings":"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","file":"static/js/1.682df674.chunk.js","sourcesContent":["import _regeneratorRuntime from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _classCallCheck from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"E:\\\\wangyancai.work.react\\\\taskmanagement\\\\node_modules\\\\react-scripts-ts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport * as React from 'react';\nimport { Page, Form, nav } from '../components';\nimport { CenterAppApi } from '../net';\nexport var ChangePasswordPage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ChangePasswordPage, _React$Component);\n\n  function ChangePasswordPage() {\n    var _this;\n\n    _classCallCheck(this, ChangePasswordPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChangePasswordPage).apply(this, arguments));\n    _this.schema = [{\n      name: 'orgPassword',\n      type: 'string',\n      maxLength: 60,\n      required: true\n    }, {\n      name: 'newPassword',\n      type: 'string',\n      maxLength: 60,\n      required: true\n    }, {\n      name: 'newPassword1',\n      type: 'string',\n      maxLength: 60,\n      required: true\n    }, {\n      name: 'submit',\n      type: 'submit'\n    }];\n    _this.uiSchema = {\n      items: {\n        orgPassword: {\n          widget: 'password',\n          label: '原密码',\n          placeholder: '输入原来的密码'\n        },\n        newPassword: {\n          widget: 'password',\n          label: '新密码',\n          placeholder: '输入新设的密码'\n        },\n        newPassword1: {\n          widget: 'password',\n          label: '确认密码',\n          placeholder: '再次输入新设密码'\n        },\n        submit: {\n          widget: 'button',\n          label: '提交',\n          className: 'btn btn-primary'\n        }\n      }\n    };\n\n    _this.onSubmit = function (name, context) {\n      return __awaiter(_assertThisInitialized(_assertThisInitialized(_this)), void 0, void 0,\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _context$data, orgPassword, newPassword, newPassword1, centerAppApi, ret;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context$data = context.data, orgPassword = _context$data.orgPassword, newPassword = _context$data.newPassword, newPassword1 = _context$data.newPassword1;\n\n                if (!(newPassword !== newPassword1)) {\n                  _context.next = 4;\n                  break;\n                }\n\n                context.setError('newPassword1', '新密码错误，请重新输入');\n                return _context.abrupt(\"return\");\n\n              case 4:\n                centerAppApi = new CenterAppApi('tv/', undefined);\n                _context.next = 7;\n                return centerAppApi.changePassword({\n                  orgPassword: orgPassword,\n                  newPassword: newPassword\n                });\n\n              case 7:\n                ret = _context.sent;\n\n                if (!(ret === false)) {\n                  _context.next = 11;\n                  break;\n                }\n\n                context.setError('orgPassword', '原密码错误');\n                return _context.abrupt(\"return\");\n\n              case 11:\n                nav.replace(React.createElement(Page, {\n                  header: \"\\u4FEE\\u6539\\u5BC6\\u7801\",\n                  back: \"close\"\n                }, React.createElement(\"div\", {\n                  className: \"m-3  text-success\"\n                }, \"\\u5BC6\\u7801\\u4FEE\\u6539\\u6210\\u529F\\uFF01\")));\n                return _context.abrupt(\"return\");\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(ChangePasswordPage, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Page, {\n        header: \"\\u4FEE\\u6539\\u5BC6\\u7801\"\n      }, React.createElement(Form, {\n        className: \"m-3\",\n        schema: this.schema,\n        uiSchema: this.uiSchema,\n        onButtonClick: this.onSubmit,\n        fieldLabelSize: 2\n      }));\n    }\n  }]);\n\n  return ChangePasswordPage;\n}(React.Component);"],"sourceRoot":""}